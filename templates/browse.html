{% extends "base.html" %}

{% block title %}Browse Collection - Esports Collectors Museum{% endblock %}

{% block content %}
<div class="browse-page">
    <div class="browse-header">
        <h1 class="browse-title">Collection Archive</h1>
        <p class="browse-subtitle">{{ records|length }} records found</p>
    </div>
    
    <!-- Filters -->
    <div class="browse-filters">
        <div class="filter-group">
            <label class="filter-label">Type</label>
            <div class="filter-buttons">
                <a href="{{ base_path }}browse/" class="filter-chip {% if item_type == 'all' %}active{% endif %}">All</a>
                <a href="{{ base_path }}browse/type-jersey/" class="filter-chip {% if item_type == 'jersey' %}active{% endif %}">Jerseys</a>
                <a href="{{ base_path }}browse/type-hardware/" class="filter-chip {% if item_type == 'hardware' %}active{% endif %}">Hardware</a>
                <a href="{{ base_path }}browse/type-peripheral/" class="filter-chip {% if item_type == 'peripheral' %}active{% endif %}">Peripherals</a>
                <a href="{{ base_path }}browse/type-signature/" class="filter-chip {% if item_type == 'signature' %}active{% endif %}">Signatures</a>
            </div>
        </div>
        
        <div class="filter-group">
            <label class="filter-label">Game</label>
            <div class="filter-buttons">
                <a href="{{ base_path }}browse/" class="filter-chip {% if game == 'all' %}active{% endif %}">All</a>
                <a href="{{ base_path }}browse/game-call-of-duty/" class="filter-chip {% if game == 'Call of Duty' %}active{% endif %}">CoD</a>
                <a href="{{ base_path }}browse/game-halo/" class="filter-chip {% if game == 'Halo' %}active{% endif %}">Halo</a>
                <a href="{{ base_path }}browse/game-counter-strike/" class="filter-chip {% if game == 'Counter-Strike' %}active{% endif %}">CS</a>
                <a href="{{ base_path }}browse/game-valorant/" class="filter-chip {% if game == 'Valorant' %}active{% endif %}">Valorant</a>
                <a href="{{ base_path }}browse/game-league-of-legends/" class="filter-chip {% if game == 'League of Legends' %}active{% endif %}">LoL</a>
                <a href="{{ base_path }}browse/game-rocket-league/" class="filter-chip {% if game == 'Rocket League' %}active{% endif %}">RL</a>
            </div>
        </div>
        
        <div class="filter-group">
            <label class="filter-label">Era</label>
            <div class="filter-buttons">
                <a href="{{ base_path }}browse/" class="filter-chip {% if era == 'all' %}active{% endif %}">All Eras</a>
                <a href="{{ base_path }}browse/era-golden/" class="filter-chip {% if era == 'golden' %}active{% endif %}">Golden Age (≤2015)</a>
                <a href="{{ base_path }}browse/era-global/" class="filter-chip {% if era == 'global' %}active{% endif %}">Global Era (2016-2020)</a>
                <a href="{{ base_path }}browse/era-modern/" class="filter-chip {% if era == 'modern' %}active{% endif %}">Modern (2021+)</a>
            </div>
        </div>
    </div>
    
    <!-- Results Grid -->
    {% if records %}
    <div class="browse-grid">
        {% for record in records %}
        <article class="record-card">
            <a href="{{ base_path }}record/{{ record.id }}" class="record-image">
                {% if record.primary_image %}
                <img src="{{ record.primary_image }}" alt="{{ record.name }}" loading="lazy">
                {% else %}
                <div class="placeholder-image"></div>
                {% endif %}
                {% if record.verified %}
                <span class="card-badge">✓</span>
                {% endif %}
            </a>
            
            <div class="record-content">
                <div class="record-meta">
                    <span class="record-id">{{ record.id }}</span>
                    <span class="esport-tag">{{ record.game|upper }}</span>
                </div>
                
                <h3 class="record-title">
                    <a href="{{ base_path }}record/{{ record.id }}">{{ record.name }}</a>
                </h3>
                
                <a href="{{ base_path }}steward/{{ record.steward }}" class="record-steward">
                    @{{ record.steward }}
                </a>
            </div>
        </article>
        {% endfor %}
    </div>
    {% else %}
    <div class="no-results">
        <div class="no-results-icon">◆</div>
        <h2 class="no-results-title">No Records Found</h2>
        <p class="no-results-desc">Try adjusting your filters to see more results</p>
        <a href="browse" class="no-results-button">Clear All Filters</a>
    </div>
    {% endif %}
</div>
{% endblock %}
